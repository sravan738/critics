{% include "mysite/header.html" %}
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js" type="text/javascript"></script>
<style>
    p{
        white-space:pre-wrap;
    }
</style>
<br><br>
<div class="container">

    <form action="token" method="post" enctype="multipart/form-data">{% csrf_token %}
      <input type="file" name="csvfile" id="csvfile">
       <button type="submit">upload</button>

    </form>

</div>
<div id="piechart"></div>
<div id="bar"></div>
<div class="container">
    <div><canvas id="countries" width="600" height="400"></canvas></div>
    <table class="table table-bordered">
       <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">comment</th>
          <th scope="col">result</th>
        </tr>
      </thead>
      <tbody>



    {% for x in data.result %}

        <tr>
            <td>   </td>
            <td> {{ x.0 }}  </td>
            <td> {{ x.1 }}  </td>
        </tr>

    {% endfor %}
    </table>
    <br><br>

</div>
<div>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>precision </th>
            <th>recall</th>
            <th>f1-score</th>
            <th>support</th>
        </tr>
        </thead>
        <tbody>
            {% for y in RF.0 %}
            <tr>
                <th> {{ y.0 }} </th>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p> {{ RF.0 }} </p>
</div>

     <!--<script>
        var positive={{data.positive}}
        var negative={{data.negative}}
        var len= positive + negative
        var x=(positive/len)*100
        var y=(negative/len)*100
        var pieData = [
            {
                value: x,
                color:"#33cc33",
                text:"positive"

            },
            {
                value : y,
                color : "#ff0000",
                text:"negative"
            }
        ];
        // Get the context of the canvas element we want to select
        var countries= document.getElementById("countries").getContext("2d");
        new Chart(countries).Pie(pieData);
    </script>-->
<div class="container">
<script type="text/javascript">
// Load google charts
var positive={{data.positive}}
        var negative={{data.negative}}
        var len= positive + negative
        var x=(positive/len)*100
        var y=(negative/len)*100
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
  ['Task', 'Hours per Day'],

  ['Positive', x],
  ['Negative', y]
]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Reviewed pichart data', 'width':950, 'height':800};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
}
</script>
<script type="text/javascript">
// Load google charts
var positive={{data.positive}}
        var negative={{data.negative}}
        var len= positive + negative
        var x=(positive/len)*100
        var y=(negative/len)*100
google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart);

// Draw the chart and set the chart values
function drawChart() {
  var data = google.visualization.arrayToDataTable([
  ['Task', 'Hours per Day'],

  ['Positive', x],
  ['Negative', y]
]);

  // Optional; add a title and set the width and height of the chart
  var options = {'title':'Reviewed barchart data', 'width':750, 'height':500};

  // Display the chart inside the <div> element with id="piechart"
  var chart = new google.visualization.BarChart(document.getElementById('bar'));
  chart.draw(data, options);
}
</script>

</div>
{% include "mysite/footer.html" %}